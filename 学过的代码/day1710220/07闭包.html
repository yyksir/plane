<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
	</head>
	<body>
	</body>
</html>
<script type="text/javascript">
	//闭包 ： 
	/*function fn(){
		var num = 90;
	}
	fn();
	alert(num);*/
	
	function fn(){
		return function(){ //闭包 ： 一个函数可以返回一个匿名函数，这个匿名函数就叫做闭包
			return "hello";
		}
	}
	//alert( fn()() );
	
	/*function fun(){
		var num = 90;
		return function (){//闭包 ：一个函数可以访问另一个函数的局部变量　
			alert(num);
		}
	}
	fun()();*/
	
	
	//闭包可以将一个局部变量长期驻留在内存中
	/*function fn(){
		var num = 10;
		return function(){
			return num++;
		}
	}
	var res = fn(); // function (){ num++ }
	alert( res() );// 10
	alert( res() );// 11
	alert( res() );// 12
	res = null; // js中有一个垃圾回收机制  将变量值变成null  回收变量*/
	
	
	//闭包的形式多变，但本质都是一样的，即局部函数全局执行
	/*document.onclick = function(){
		var num = 90;
		setTimeout(function(){
			alert(num);
		},2000)
	}*/
	
	//闭包中的this  指向window对象
	/*function fn(){
		return function (){
			alert( this ); window
		}
	}
	fn()();*/
	
	/*var name = "jack";
    var obj = {
        name: "Lily",
        getName :function(){
            return function(){
                return this.name;
            }
        }
    }
    alert( obj.getName()() );*///jack

   /* var name = "jack";
    var obj = {
        name: "Lily",
        getName :function(){
            var that = this;
            return function(){
                return that.name;
            }
        }
    }
    alert( obj.getName()() );*///Lily
</script>
