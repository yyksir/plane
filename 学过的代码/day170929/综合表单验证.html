<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <title> New Document </title>
  <meta name="Generator" content="EditPlus">
  <meta name="Author" content="">
  <meta name="Keywords" content="">
  <meta name="Description" content="">
 </head>
  
<body>
<form action=""  >
	<table width="449" height="530" border="1" align='center'>
	  <tr>
		<td colspan="2" align="center">用户名注册</td>
		</tr>
	  <tr>
		<td width="116" align="right">姓名：</td>
		<td width="323">
		  <input type="text" name="" id="name" />
		<label id="s1"></label>
	  </td>
	  </tr>
	  <tr>
		<td width="116" align="right">性别：</td>
		<td width="323">
		  <input type="radio" name="sex" id="" />男
		   <input type="radio" name="sex" id="" />女
		</td>
	  </tr>
	  <tr>
		<td align="right">年龄：</td>
		<td>
		  <input type="text" name="" id="age" />
		<label id="s2"></label></td>
	  </tr>
	  <tr>
		<td align="right">密码：</td>
		<td>
		  <input type="password" name="" id="pwd" />
		<label id="s3"></label></td>
	  </tr>
	  <tr>
		<td align="right">确认密码：</td>
		<td>
		  <input type="password" name="" id="qpwd" />
		<label id="s4"></label></td>
	  </tr>
	  <tr>
		<td align="right">手机：</td>
		<td>
		  <input type="text" name="" id="tel" />
		<label id="s5"></label></td>
	  </tr>
	  <tr>
		<td align="right">QQ:</td>
		<td>
		  <input type="text" name="" id="qq" />
		<label id="s6"></label></td>
	  </tr>
	  <tr>
		<td align="right">邮箱：</td>
		<td>
		  <input type="text" name="" id="email" />
		<label id="s7"></label></td>
	  </tr>
	  <tr>
		<td align="right">邮编：</td>
		<td>
		  <input type="text" name="" id="eml" />
		<label id="s8"></label></td>
	  </tr>
	  <tr>
		<td align="right">身份证：</td>
		<td>
		  <input type="text" name="" id="sname" />
		<label id="s9"></label></td>
	  </tr>
	  <tr>
		<td align="right">验证码：</td>
		<td><label>
		  <input type="text" id="yzm" />
		  <span id ="yz" style="width:80px;height: 20px;border: 1px solid red;display: inline-block;"></span>
		  <a href="#" id="btn">看不清</a>
		</label></td>
	  </tr>
		<tr>
		<td align="right">爱好：</td>
		<td><label>
		<input type="checkbox" name="a" id="c1">
		足球
		<input type="checkbox" name="a" id="c2">
		篮球
		<input type="checkbox" name="a" id="c3">
		排球
		<input type="checkbox" name="a" id="c4">
		网球
		</label></td>
	  </tr>
	  <tr>
		<td height="36" colspan="2" align="center"><label>
		  <input type="submit" value="注册"  />
		</label></td>
		</tr>
	</table>
</form>
</body>
</html>
<script type="text/javascript">
	/*
	 要求：
	 	1、使用失去焦点事件完成表单验证  每一项验证失去焦点时都可以即时验证
	 	2、姓名： 单词字符组成  6--10为 ，不能用数字开头
	 	      年龄： 只能由数字组成  年龄不能为负数
	 	      密码：6--18位字符组成       有密码强弱验证 
	 	3、确认密码和密码相同
	 	4、手机号： 15  13  18 开头
	 	5、qq ： 5--12位数字  第一位不能是数字
	 	6、邮箱： 必须有@符号
	 	7、邮编：6为数字
	 	8、身份证： 18位   最后一位考虑有x
	 	9、验证码  
	 		输入的验证码必须和红色框中的相同，  点击看不清可以实现验证码的切换
	 		验证码由字母  数字组成
	 	10、爱好和性别必选	
	 * */
	 function $(id){
		return document.getElementById(id);
	}
	var flagName = "";
	$("name").onblur = function(){
		var reg = /^[a-z_]\w{5,9}$/i;
		var str = $("name").value;
		if( reg.test(str) ){
			$("s1").innerHTML = "合法";
			flagName = true;
		}else{
			$("s1").innerHTML = "错误";
			flagName = false;
		}
		return flagName;
	}
	var flagAge = "";
	$("age").onblur = function(){
		var reg = /^\d{1,3}$/;
		var str = $("age").value;
		if( reg.test(str) ){
			$("s2").innerHTML = "合法";
			flagAge = true;
		}else{
			$("s2").innerHTML = "错误";
			flagAge = false;
		}
		return flagAge;
	}
	var flagPwd = "";
	$("pwd").onblur = function(){
		var regNum = /^\d+$/;
	  	var regLetter = /^[a-z]+$/i;
	  	var regOther = /^[!@#$%^&*()]+$/;
	  	var _regNum = /\d+/;
	  	var _regLetter = /[a-z]+/i;
	  	var _regOther = /[!@#$%^&*()]+/;
  		var str = $("pwd").value;
  		if(str.length > 5 && str.length < 19){
			if( regNum.test(str) || regLetter.test(str) || regOther.test(str) ){ //弱
				$("s3").innerHTML = "弱";
				flagPwd = true;
			}else if( _regNum.test(str) && _regLetter.test(str) && _regOther.test(str) ){
				$("s3").innerHTML = "强";
				flagPwd = true;
			}else{
				$("s3").innerHTML = "中";
				flagPwd = true;
			}
  		}else{
  			$("s3").innerHTML = "错误";
			flagPwd = flase;
  		}
  		return flagPwd;
	}
	var flagQpwd = "";
	$("qpwd").onblur = function(){
		if($("qpwd").value == $("pwd").value){
			$("s4").innerHTML = "合法";
			flagQpwd = true;
		}else{
			$("s4").innerHTML = "错误";
			flagQpwd = false;
		}
		return flagQpwd;
	}
	var falgTel = "";
	$("tel").onblur = function(){
		var reg = /^(13|15|18)\d{9}$/;
		var str = $("tel").value;
		if( reg.test(str) ){
			$("s5").innerHTML = "合法";
			flagTel = true;
		}else{
			$("s5").innerHTML = "错误";
			flagTel = false;
		}
		return flagTel;
	}
	var flagQq = "";
	$("qq").onblur = function(){
		var reg = /^[^0-9]\d{5,12}$/;
		var str = $("qq").value;
		if( reg.test(str) ){
			$("s6").innerHTML = "合法";
			flagQq = true;
		}else{
			$("s6").innerHTML = "错误";
			flagQq = false;
		}
		return flagQq;
	}
	var flagEmail = "";
	$("email").onblur = function(){
		var reg = /@/;
		var str = $("email").value;
		if( reg.test(str) ){
			$("s7").innerHTML = "合法";
			flagEmail= true;
		}else{
			$("s7").innerHTML = "错误";
			flagEmail = false;
		}
		return flagEmail;
	}
	var flagEml = "";
	$("eml").onblur = function(){
		var reg = /^\d{6}$/;
		var str = $("eml").value;
		if( reg.test(str) ){
			$("s8").innerHTML = "合法";
			flagEml= true;
		}else{
			$("s8").innerHTML = "错误";
			flagEml = false;
		}
		return flagEml;
	}
	var flagSname = "";
	$("sname").onblur = function(){
		var reg = /^\d{17}[X0-9]$/;
		var str = $("sname").value;
		if( reg.test(str) ){
			$("s9").innerHTML = "合法";
			flagSname= true;
		}else{
			$("s9").innerHTML = "错误";
			flagSname = false;
		}
		return flagSname;
	}
	function rand(min,max){
       return Math.floor( Math.random()*(max-min+1)+min )
    }
	function checkNumber(){
		var arr = [];
		for( var i = 0 ; i < 6 ; i ++ ){
			var code = rand(48,122);
			if( code >= 58 && code <= 64 || code >= 91 && code <= 96 ){ 
				i--;
			}else{
				arr.push( String.fromCharCode(code) ) ;
			}
		}
		return arr.join("");
	}
  	function $(id){
  		return document.getElementById(id);
  	}
	$("yz").innerHTML = checkNumber();
	$("btn").onclick = function(){
		$("yz").innerHTML = checkNumber();
	}
	var flagYzm ="";
	$("yzm").onblur = function(){
		if($("yzm").value == $("yz").innerHTML){
			flagYzm = true;
			alert("验证码正确");
		}else{
			flagYzm = false;
			alert("验证码错误");
		}
		return flagYzm;
	}
	function checkSex(){
		var sex = document.getElementsByName("sex");
		var flag = true;//说明没有选中性别
		for( var i = 0 ; i < sex.length ; i++ ){
			if( sex[i].checked ){
				flag = false;
				break;
			}
		}
		return flag;
	}
	function checkLike(){
		var Like = document.getElementsByName("a");
		var flag = true;
		for( var i = 0 ; i < Like.length ; i++ ){
			if( Like[i].checked ){
				flag = false;
				break;
			}
		}
		return flag;
	}
	function checkForm(){
	 	if( flagName && flagAge && flagPwd && flagQpwd && flagTel && flagQq && flagEmail && flagEml && flagSname && flagYzm && !checkSex() && !checkLike() ){
	 		return true;
	 	}else{
	 		return false;
	 	}
	}
</script>
